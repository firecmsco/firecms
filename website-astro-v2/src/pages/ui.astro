---
import Layout from '../layouts/Layout.astro';
import ClientUIComponentsShowcase from '../components/ClientUIComponentsShowcase.tsx';

const title = "FireCMS UI Components - Beautiful, Accessible React Components";
const description = "Explore the FireCMS UI component library - a comprehensive collection of beautiful, accessible React components built for modern web applications.";
---

<Layout title={title} description={description}>

  <main>
    <!-- Hero Section -->
    <section class="relative isolate overflow-hidden bg-linear-to-br from-black to-gray-950 pt-24 pb-16 sm:pt-32 sm:pb-24 lg:pt-40 lg:pb-24 border-b border-gray-800">
      <!-- Background accents and subtle grid -->
      <div class="pointer-events-none absolute inset-0 -z-10">
        <div class="absolute inset-x-0 top-0 h-px bg-linear-to-r from-transparent via-white/10 to-transparent"></div>
        <div class="absolute -top-40 left-1/2 -translate-x-1/2 w-[900px] h-[900px] rounded-full bg-primary/5 blur-3xl opacity-60"></div>
        <div class="absolute -bottom-40 right-1/3 w-[700px] h-[700px] rounded-full bg-blue-500/5 blur-3xl opacity-50"></div>
        <div class="absolute inset-0 bg-[linear-gradient(to_right,rgba(255,255,255,0.06)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.06)_1px,transparent_1px)] bg-[size:40px_40px] opacity-10"></div>
      </div>

      <div class="px-4 mx-auto max-w-7xl text-center lg:px-12">
        <div class="inline-flex items-center py-1.5 px-3 mb-6 sm:mb-7 text-sm rounded-full bg-gray-800/40 text-gray-400 ring-1 ring-inset ring-white/10 mx-auto" role="status">
          <span class="text-sm font-medium">Beautiful, accessible React components</span>
        </div>
        <h1 class="mb-8 text-5xl font-extrabold tracking-tight leading-none md:text-6xl text-white font-sans">
          FireCMS <span class="text-orange-500">UI Components</span>
        </h1>
        <p class="mb-10 text-lg leading-8 text-gray-300 lg:text-xl sm:px-16 xl:px-48">
          A comprehensive collection of <b>beautiful, accessible React components</b> built for modern web applications.
        </p>
      </div>
    </section>

    <!-- UI Components Showcase Section -->
    <section class="bg-black py-16 sm:py-24">
      <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div id="showcase-container" class="relative min-h-[600px]">
          <!-- Loading indicator -->
          <div id="showcase-loading" class="absolute inset-0 flex flex-col items-center justify-center gap-4">
            <div class="relative w-16 h-16">
              <div class="absolute inset-0 border-4 border-gray-800 rounded-full"></div>
              <div class="absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"></div>
            </div>
            <p class="text-gray-400 text-lg">Loading UI Components...</p>
          </div>

          <ClientUIComponentsShowcase client:only="react" docsUrl="https://firecms.co" linksInNewTab={true} />
        </div>
      </div>
    </section>

    <script>
      // Hide loading indicator once the component is visible
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const container = entry.target;
            // Check if component has rendered by looking for its content
            const checkLoaded = setInterval(() => {
              const hasContent = container.querySelector('.max-w-6xl');
              if (hasContent) {
                const loader = document.getElementById('showcase-loading');
                if (loader) {
                  loader.style.opacity = '0';
                  loader.style.transition = 'opacity 0.3s ease-out';
                  setTimeout(() => loader.remove(), 300);
                }
                clearInterval(checkLoaded);
                observer.disconnect();
              }
            }, 100);

            // Fallback: remove loader after 3 seconds anyway
            setTimeout(() => {
              clearInterval(checkLoaded);
              const loader = document.getElementById('showcase-loading');
              if (loader) loader.remove();
            }, 3000);
          }
        });
      });

      const container = document.getElementById('showcase-container');
      if (container) observer.observe(container);
    </script>

  </main>

</Layout>
