---
import Layout from '../layouts/Layout.astro';
import ScrollSyncShowcase from '../components/ScrollSyncShowcase.astro';
import SpotlightCard from '../components/SpotlightCard.astro';
import SectionBackgroundAccents from "../components/SectionBackgroundAccents.astro";

const title = "FireCMS - The Headless CMS Framework for Firebase";
const description = "Build powerful back-office apps in minutes. Go live instantly with our managed Cloud, or self-host our open-source framework for full control.";
---

<Layout title={title} description={description}>

  <main>

    <section class="relative isolate overflow-hidden bg-linear-to-br from-black to-gray-950 pt-24 pb-24 sm:pt-32 sm:pb-32 lg:pt-48 lg:pb-48">

      <div class="px-4 mx-auto max-w-7xl text-center lg:px-12">
        <h1 class="mb-8 text-6xl font-extrabold tracking-tight leading-none md:text-6xl lg:text-6xl text-white font-sans animate-on-scroll fade-in-up">
          The Headless CMS<br/> Framework for <span class="text-orange-500 subtle-shimmer">Firebase</span>
        </h1>
        <p class="mb-10 text-lg leading-8 text-gray-300 lg:text-xl sm:px-16 xl:px-64 animate-on-scroll fade-in-up delay-100">
          Build powerful back-office apps in minutes.<br/> Go live instantly with our <b>managed Cloud</b>, or self-host our <b>open-source framework</b> for full control.
        </p>
        <div class="flex items-center justify-center gap-x-6 animate-on-scroll fade-in-up delay-200">
          <a href="https://app.firecms.co"
             class="inline-flex items-center gap-x-2 rounded-md bg-primary px-6 py-3 text-base font-semibold text-white shadow-sm hover:bg-primary-dark focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary transition-all duration-200 ease-in-out btn-glow">
            Start Building for Free
            <img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/arrow-right.svg" alt="" class="h-5 w-5 text-white filter invert" />
          </a>
          <a href="/developers"
             class="inline-flex items-center gap-x-2 rounded-md border border-gray-700 bg-gray-900/50 px-6 py-3 text-base font-semibold text-white shadow-sm hover:bg-gray-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-700 transition-all duration-200 ease-in-out">
            Explore Self-Hosted
          </a>
        </div>
      </div>

      <!--&lt;!&ndash; Mid-floating accent blob &ndash;&gt;-->
      <!--<div class="pointer-events-none absolute top-36 right-12 -z-10 transform-gpu overflow-hidden blur-3xl" aria-hidden="true">-->
      <!--  <div class="blob-shape relative aspect-1155/678 w-144 rotate-6 bg-linear-to-tr from-fuchsia-500/30 via-indigo-600/25 to-cyan-500/25 opacity-30 mix-blend-screen"></div>-->
      <!--</div>-->

      <!--&lt;!&ndash; Bottom gradient shape &ndash;&gt;-->
      <!--<div class="absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]" aria-hidden="true">-->
      <!--  <div class="blob-shape relative left-[calc(50%+3rem)] aspect-1155/678 w-144.5 -translate-x-1/2 bg-linear-to-tr from-primary to-blue-900 opacity-10 sm:left-[calc(50%+36rem)] sm:w-288.75"></div>-->
      <!--</div>-->
    </section>

    <!-- Social Proof Section with gradient divider -->
    <section class="relative isolate bg-black py-16 overflow-hidden">
      <SectionBackgroundAccents topLine={true} blob={{ position: "top", size: "sm" }}/>
      <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <p class="text-center text-lg font-semibold leading-8 text-gray-400 mb-10 animate-on-scroll fade-in">
          Trusted by developers at leading companies
        </p>
        <div class="mx-auto flex items-center justify-center gap-x-12 flex-wrap max-w-2xl animate-on-scroll scale-in delay-100">
          <img src="/img/logos/Google_2015_logo.svg" alt="Google" class="h-10 w-auto opacity-50 hover:opacity-80 transition-opacity grayscale" />
          <img src="/img/logos/Microsoft_logo_%282012%29.svg" alt="Microsoft" class="h-8 w-auto opacity-50 hover:opacity-80 transition-opacity grayscale" />
          <img src="/img/logos/Ikea_logo.svg" alt="IKEA" class="h-10 w-auto opacity-50 hover:opacity-80 transition-opacity grayscale" />
        </div>
        <p class="text-center text-sm text-gray-500 mt-8 animate-on-scroll fade-in delay-200">and thousands more</p>
      </div>
    </section>

    <!-- What Can You Build Section with icon accents -->
    <section class="relative isolate bg-black py-24 sm:py-32 overflow-hidden">
      <SectionBackgroundAccents topLine={true}/>

      <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="w-full lg:w-[400px] mb-20 mt-16 animate-on-scroll fade-in-up">
          <h2 class="text-3xl font-medium tracking-tight text-white sm:text-4xl">One Framework,<br/> Endless Back-Office Solutions</h2>
          <!--<p class="mt-6 text-lg leading-8 text-gray-400">Powerful features that make data management a breeze</p>-->
        </div>
        <div class="mx-auto mt-16 max-w-7xl">
          <div class="grid grid-cols-1 gap-8 lg:grid-cols-3">
            <SpotlightCard
                icon="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/file-text.svg"
                title="Content Management Systems"
                description="Power your blogs and marketing sites with an intuitive, Notion-style editor your content team will love."
            />
            <SpotlightCard
                icon="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/layout-dashboard.svg"
                title="Internal Tools"
                description="Build robust internal dashboards for customer support, inventory management, or logistics tracking, without the frontend hassle."
            />
            <SpotlightCard
                icon="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/cog.svg"
                title="Custom Admin Panels"
                description="Create bespoke, data-intensive admin panels for any application, with full control to add custom views and business logic."
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Scroll-sync showcase (sticky index on the right) -->
    <ScrollSyncShowcase />

    <section class="bg-black py-16 sm:py-24">
      <div class="mx-auto max-w-7xl px-6 lg:px-8">

        <p class="text-center text-sm font-medium text-gray-500 mb-8 uppercase tracking-wider">
          Built with modern technologies
        </p>

        <div class="flex flex-wrap items-center justify-center gap-x-8 gap-y-4 sm:gap-x-12 lg:gap-x-16">

          <img class="h-10 w-auto opacity-70 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300"
               src="/img/reactjs-icon.svg" alt="React">

          <img class="h-10 w-auto opacity-70 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300"
               src="/img/typescript_logo.svg" alt="TypeScript">

          <img class="h-8 w-auto opacity-70 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300"
               src="/img/tailwind_logo.svg" alt="Tailwind CSS">

          <img class="h-10 w-auto opacity-70 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300"
               src="/img/firebase.svg" alt="Firebase">

        </div>
      </div>
    </section>

    <!-- Persona Routing Section with subtle accents -->
    <section class="relative isolate bg-black py-24 sm:py-32 overflow-hidden">
      <SectionBackgroundAccents topLine={true} blob={{ position: "bottom", size: "md" }}/>
      <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="mx-auto max-w-2xl text-center mb-16 animate-on-scroll fade-in-up">
          <h2 class="text-3xl font-medium tracking-tight text-white sm:text-4xl">Built for Your Workflow</h2>
        </div>
        <div class="grid grid-cols-1 gap-8 lg:grid-cols-3">
          <SpotlightCard
              icon="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/rocket.svg"
              title="For Startups"
              description="Launch your MVP's back-office in minutes and iterate at lightning speed."
              link={{ href: "/startups", text: "Learn More" }}
          />
          <SpotlightCard
              icon="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/briefcase.svg"
              title="For Agencies"
              description="Deliver deeply customized, self-hosted solutions for your clients."
              link={{ href: "/agencies", text: "Learn More" }}
          />
          <SpotlightCard
              icon="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/code.svg"
              title="For Developers"
              description="Built for developers, with ultimate flexibility and control."
              link={{ href: "/developers", text: "Learn More" }}
          />
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="bg-black py-24 sm:py-32">
      <div class="mx-auto max-w-7xl px-6">
        <div class="mx-auto max-w-3xl text-center animate-on-scroll fade-in-up">
          <h2 class="text-3xl sm:text-4xl font-medium text-white">FAQ</h2>
        </div>
        <div class="mt-10 max-w-3xl mx-auto space-y-4 animate-on-scroll fade-in-up delay-100">
          <details class="group rounded-xl bg-gray-900/50 ring-1 ring-inset ring-gray-800 p-4">
            <summary class="cursor-pointer text-white font-semibold">Cloud vs Self‑hosted — which should I choose?</summary>
            <p class="mt-2 text-gray-300">Choose Cloud for the fastest setup and zero maintenance. Choose Self‑hosted if you need full control, custom workflows, or client delivery. You can start on Cloud and move to self‑host anytime.</p>
          </details>
          <details class="group rounded-xl bg-gray-900/50 ring-1 ring-inset ring-gray-800 p-4">
            <summary class="cursor-pointer text-white font-semibold">Can I infer a schema from my existing data?</summary>
            <p class="mt-2 text-gray-300">Yes. FireCMS analyzes your Firestore/Atlas collections and generates a starting schema you can refine in a visual editor.</p>
          </details>
          <details class="group rounded-xl bg-gray-900/50 ring-1 ring-inset ring-gray-800 p-4">
            <summary class="cursor-pointer text-white font-semibold">Do you support SSO/SAML?</summary>
            <p class="mt-2 text-gray-300">SSO/SAML and advanced enterprise features are available on Enterprise plans. Contact us for details.</p>
          </details>
          <details class="group rounded-xl bg-gray-900/50 ring-1 ring-inset ring-gray-800 p-4">
            <summary class="cursor-pointer text-white font-semibold">Is FireCMS open‑source?</summary>
            <p class="mt-2 text-gray-300">Yes. The core framework is MIT‑licensed and open‑source. A PRO license adds advanced components, theming, and priority support.</p>
          </details>
        </div>
      </div>
    </section>

    <section class="relative isolate bg-black py-32 sm:py-48 border-t border-gray-800">
      <SectionBackgroundAccents blob={{ position: "bottom", size: "md", opacity: 50 }}/>
      <div class="mx-auto max-w-7xl px-6 lg:px-8">

        <!-- Minimalistic single quote (Microsoft) -->
        <div class="mx-auto max-w-3xl animate-on-scroll fade-in-up">
          <figure>
            <blockquote class="text-2xl sm:text-3xl leading-snug text-white tracking-tight">
              “I've tried many other CMS including Strapi, Sanity, Contentful, Builder.io, none of them gave me a better experience than FireCMS!”
            </blockquote>
            <figcaption class="mt-6 flex items-center gap-x-4">
              <img class="h-12 w-12 rounded-full bg-gray-800 object-cover" src="/img/avatars/fulei.avif" alt="Fulei Huang">
              <div class="text-sm leading-6">
                <div class="font-semibold text-white">Fulei Huang</div>
                <div class="text-gray-400">Software Engineer, Microsoft</div>
              </div>
            </figcaption>
          </figure>
        </div>

        <div class="mt-16 text-center">
          <a href="/why-firecms" class="text-base font-semibold leading-6 text-primary hover:text-primary-light transition-colors">
            Why choose FireCMS? <span aria-hidden="true">→</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Final CTA with background accents -->
    <section class="relative isolate bg-black py-24 sm:py-32 overflow-hidden">
      <SectionBackgroundAccents topLine={true} blob={{ position: "top", size: "lg" }}/>
      <div class="mx-auto max-w-7xl px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-medium tracking-tight text-white sm:text-4xl mb-8 animate-on-scroll fade-in-up">Ready to get started?</h2>
        <div class="flex items-center justify-center gap-x-6 animate-on-scroll fade-in-up delay-100">
          <a href="https://app.firecms.co"
             class="inline-flex items-center gap-x-2 rounded-md bg-primary px-6 py-3 text-base font-semibold text-white shadow-sm hover:bg-primary-dark focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary transition-all duration-200 ease-in-out btn-glow">
            Try FireCMS Cloud
            <img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/arrow-right.svg" alt="" class="h-5 w-5 text-white filter invert" />
          </a>
          <a href="/developers"
             class="inline-flex items-center gap-x-2 text-white hover:text-primary transition-colors font-semibold">
            View Documentation
            <img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/arrow-right.svg" alt="" class="h-4 w-4 text-white filter invert" />
          </a>
        </div>
      </div>
    </section>
  </main>

</Layout>

<script>
  // Mouse spotlight effect for cards
  document.addEventListener('astro:page-load', () => {
    const cards = document.querySelectorAll('[data-spotlight-card]');

    cards.forEach(card => {
      const spotlight = card.querySelector('[data-spotlight]') as HTMLElement;
      if (!spotlight) return;

      card.addEventListener('mousemove', (e: Event) => {
        const mouseEvent = e as MouseEvent;
        const rect = card.getBoundingClientRect();
        const x = mouseEvent.clientX - rect.left;
        const y = mouseEvent.clientY - rect.top;

        // Create radial gradient that follows mouse
        spotlight.style.background = `radial-gradient(600px circle at ${x}px ${y}px, rgba(56, 189, 248, 0.15), transparent 40%)`;
      });

      card.addEventListener('mouseleave', () => {
        spotlight.style.background = '';
      });
    });

    // Intersection Observer for scroll animations
    if ((window as any).pageObserver) {
        (window as any).pageObserver.disconnect();
    }

    const observerOptions = {
      threshold: 0.15,
      rootMargin: '0px 0px -100px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          console.log('Animation triggered for:', entry.target);
          entry.target.classList.add('in-view');
          // Unobserve after animation to improve performance
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);
    (window as any).pageObserver = observer;


    // Observe all elements with animate-on-scroll class
    const animatedElements = document.querySelectorAll('.animate-on-scroll');
    animatedElements.forEach(el => {
      el.classList.remove('in-view');
      observer.observe(el);
    });
  });
</script>
